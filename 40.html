<!DOCTYPE html>
<html>

<head>
    <title>Piano</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="./style.css" />
</head>

<body>
    <main class="app">
        <div class="piano">
            <div class="whiteKeys">
                <div class="pianoKey whiteKey"></div>
                <div class="pianoKey whiteKey"></div>
                <div class="pianoKey whiteKey"></div>
                <div class="pianoKey whiteKey"></div>
                <div class="pianoKey whiteKey"></div>
                <div class="pianoKey whiteKey"></div>
                <div class="pianoKey whiteKey"></div>
                <div class="pianoKey whiteKey"></div>
                <div class="pianoKey whiteKey"></div>
                <div class="pianoKey whiteKey"></div>
                <div class="pianoKey whiteKey"></div>
                <div class="pianoKey whiteKey"></div>
                <div class="pianoKey whiteKey"></div>
                <div class="pianoKey whiteKey"></div>
                <div class="pianoKey whiteKey"></div>
            </div>

            <div class="blackKeys">
                <div class="pianoKey blackKey"></div>
                <div class="pianoKey blackKey"></div>
                <div class="pianoKey blackKey"></div>
                <div class="pianoKey blackKey"></div>
                <div class="pianoKey blackKey"></div>
                <div class="pianoKey blackKey"></div>
                <div class="pianoKey blackKey"></div>
                <div class="pianoKey blackKey"></div>
                <div class="pianoKey blackKey"></div>
                <div class="pianoKey blackKey"></div>
            </div>
        </div>
        <div class="controls">
            <button class="playBackButton">Play melody</button>
        </div>
    </main>
    <script src='https://surikov.github.io/webaudiofont/npm/dist/WebAudioFontPlayer.js'></script>
    <script src='https://surikov.github.io/webaudiofontdata/sound/0010_Chaos_sf2_file.js'></script>

    <script>
        const AudioContextFunc = window.AudioContext || window.webkitAudioContext;
        const audioContext = new AudioContextFunc();
        const player = new WebAudioFontPlayer();
        player.loader.decodeAfterLoading(audioContext, '_tone_0010_Chaos_sf2_file');
        function playKey(pitch, duration = 1.0) {
            player.queueWaveTable(audioContext, audioContext.destination, _tone_0010_Chaos_sf2_file, 0, pitch, duration);
        };
    </script>
    <script src="./script.js"></script>
</body>

</html>